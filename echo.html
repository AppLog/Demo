<!DOCTYPE html>
<html>
    <head>
        <title>SwiftWebViewBridgeDemo</title>
    </head>
    <body>
        <script>
            function connectToSwiftWebViewBridge(callback) {
                if (window.SwiftWebViewBridge) {
                    callback(SwiftWebViewBridge);
                } else {
                    document.addEventListener('SwiftWebViewBridgeReady',
                                              function() {
                                              callback(SwiftWebViewBridge);
                                              },
                                              false);
                }
            }

        connectToSwiftWebViewBridge(function(bridge) {
                                    bridge.init(function(message, responseCallback) {
                                                responseCallback();
                                                });
                                    });

        function doFavorite() {
            var Request = new Array();
            var hospitalIds;
            if (/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)) {
                SwiftWebViewBridge.callSwiftHandler("getUserInfo",
                                                "",
                                                function(responseData) {
                                                    alert(responseData["Name"]);
                                                    Request.UserCode = responseData["Name"];
                                                    Request.UserPWD = responseData["Pwd"];
                                                    hospitalIds = responseData["HospitalId"];


                                                });
            }
            else {
                if(window.MyBrowserAPI != undefined){
                    Request.UserCode = window.MyBrowserAPI.getName();
                    Request.UserPWD = window.MyBrowserAPI.getPwd();
                }
                if(Request.UserCode == undefined || Request.UserCode == "")
                {
                    Request.UserCode="admin";
                }
                if(Request.UserPWD == undefined)
                {
                    Request.UserPWD="TCSoft";
                }
                Request.UserCode = window.MyBrowserAPI.getName();
                Request.UserPWD = window.MyBrowserAPI.getPwd();
                hospitalIds = window.MyBrowserAPI.getHospitalId();
            }
        }

        </script>
        <div class="container">
            <h1>SwiftWebViewBridgeDemo</h1>
            <button type="button" onclick="document.getElementById('logContainer').innerHTML = ''">Clear Log</button>
            <br />
            <button type="button" onclick="doFavorite()">getUserInfo</button>
            <div id="logContainer"></div>
        </div>
    </body>
</html>
